class Parser	prechigh		nonassoc TokNot		left TokMult TokDiv TokMod		left TokMinus TokPlus  		nonassoc TokLess TokMoreEq TokLessEq TokMore TokEqual TokNotEqual		left TokOr TokAnd	preclow	token TokLess TokFi TokPlus TokOr TokAs TokEqual TokValue TokProc TokMore TokOd TokNot TokAssign TokNotEqual TokOf TokDo TokArray TokNumber TokReturn TokSelect TokIn TokDiv TokLength TokTrue TokShow TokTwoDots TokComma TokAnd TokString TokMinus TokSkip TokEnd TokOpBracet TokMain TokOut TokOpenParen TokCloseBracket TokLessEq TokCloseParen TokIf TokFalse TokMod TokBegin TokString TokId TokDotComma TokMult TokMoreEq TokVar
		start STARTruleSTART          : MAIN {puts "START -> MAIN"}               | VAR MAIN {puts "START -> VAR MAIN"}               | PROC MAIN {puts "START -> PROC MAIN"}               | VAR PROC MAIN {puts "START -> VAR PROC MAIN"}VAR            : TokVar LIST_ID TokTwoDots TIPO {puts "VAR -> var #{val[1]} : #{val[3]}"; return "var #{val[1]} : #{val[3]}"}               | VAR TokVar LIST_ID TokTwoDots TIPO {puts "VAR -> VAR var #{val[2]}, #{val[4]}"; return "#{val[2]}, #{val[4]}"}LIST_ID        : TokId {puts "LIST_ID -> #{val[0]}"; return val[0]}               | LIST_ID TokComma TokId {puts "LIST_ID -> #{val[0]}, #{val[2]}"; return "#{val[0]}, #{val[2]}"}TIPO           : TokValue {puts "TIPO -> value"; return "value"}               | TokArray TokOf TokNumber {puts "TIPO -> array of #{val[2]}"; return "array of #{val[2]}"}PROC           : PROCEDIMIENTO {puts "IZQ -> DER"; return ""}               | PROC PROCEDIMIENTO {puts "IZQ -> DER"; return ""}PROCEDIMIENTO  : TokProc TokId TokOpenParen PARAMETRO TokCloseParen TokAs P_INSTRUCCION {puts "IZQ -> DER"; return ""}               | TokProc TokId TokOpenParen PARAMETRO TokCloseParen TokAs VAR P_INSTRUCCION {puts "IZQ -> DER"; return ""}PARAMETRO      :TokIn TokId {puts "IZQ -> DER"; return ""}               |TokOut TokId {puts "IZQ -> DER"; return ""}               |PARAMETRO TokComma TokIn TokId {puts "IZQ -> DER"; return ""}               |PARAMETRO TokComma TokOut TokId {puts "IZQ -> DER"; return ""}P_INSTRUCCION  : TokSkip {puts "IZQ -> DER"; return ""}               | TokReturn  {puts "IZQ -> DER"; return ""}               | ASIGNACION {puts "IZQ -> DER"; return ""}               | ASIGNARRAY {puts "IZQ -> DER"; return ""}               | TokBegin LIST_P_INST TokEnd {puts "IZQ -> DER"; return ""}               | TokIf P_SELECCION TokFi {puts "IZQ -> DER"; return ""}               | TokDo P_SELECCION TokOd {puts "IZQ -> DER"; return ""}               | TokId TokOpenParen LIST_EXPR TokCloseParen  {puts "IZQ -> DER"; return ""}               | TokShow EXPRESION {puts "IZQ -> DER"; return ""}               | TokShow TokString {puts "IZQ -> DER"; return ""}LIST_P_INST    : P_INSTRUCCION {puts "IZQ -> DER"; return ""}               | LIST_P_INST TokDotComma P_INSTRUCCION {puts "IZQ -> DER"; return ""}P_SELECCION    : GUARDIA TokSelect P_INSTRUCCION {puts "IZQ -> DER"; return ""}               | P_SELECCION GUARDIA TokSelect P_INSTRUCCION {puts "IZQ -> DER"; return ""}ASIGNACION     : TokId TokAssign EXPRESION {puts "IZQ -> DER"; return ""}               | TokId TokComma ASIGNACION TokComma EXPRESION {puts "IZQ -> DER"; return ""}ASIGNARRAY     : TokId TokOpBracet EXPRESION TokCloseBracket TokAssign EXPRESION {puts "IZQ -> DER"; return ""}               | TokId TokOpBracet EXPRESION TokCloseBracket TokComma ASIGNARRAY TokComma EXPRESION {puts "IZQ -> DER"; return ""}EXPRESION      :TokNumber {puts "IZQ -> DER"; return ""}               | TokId {puts "IZQ -> DER"; return ""}               | TokLength TokId {puts "IZQ -> DER"; return ""}               | EXPRESION EXPROPER {puts "IZQ -> DER"; return ""}               | TokOpenParen EXPRESION TokCloseParen {puts "IZQ -> DER"; return ""}               | TokId TokOpBracet EXPRESION TokCloseBracket {puts "IZQ -> DER"; return ""}EXPROPER       : TokMult EXPRESION {puts "IZQ -> DER"; return ""}               | TokMinus EXPRESION {puts "IZQ -> DER"; return ""}               | TokPlus EXPRESION {puts "IZQ -> DER"; return ""}               | TokDiv EXPRESION {puts "IZQ -> DER"; return ""}               | TokMod EXPRESION {puts "IZQ -> DER"; return ""}MAIN           : TokMain LIST_INST TokEnd {puts "IZQ -> DER"; return ""}INSTRUCCION    : TokSkip {puts "IZQ -> DER"; return ""}               | ASIGNACION {puts "IZQ -> DER"; return ""}               | ASIGNARRAY {puts "IZQ -> DER"; return ""}               | TokBegin LIST_INST TokEnd {puts "IZQ -> DER"; return ""}               | TokIf SELECCION TokFi {puts "IZQ -> DER"; return ""}               | TokDo SELECCION TokOd {puts "IZQ -> DER"; return ""}               | TokId TokOpenParen LIST_EXPR TokCloseParen  {puts "IZQ -> DER"; return ""}               | TokShow EXPRESION {puts "IZQ -> DER"; return ""}               | TokShow TokString {puts "IZQ -> DER"; return ""}LIST_INST      : INSTRUCCION {puts "IZQ -> DER"; return ""}               | LIST_INST TokDotComma INSTRUCCION {puts "IZQ -> DER"; return ""}SELECCION      : GUARDIA TokSelect INSTRUCCION {puts "IZQ -> DER"; return ""}               | SELECCION GUARDIA TokSelect INSTRUCCION {puts "IZQ -> DER"; return ""}LIST_EXPR      : EXPRESION {puts "IZQ -> DER"; return ""}               | LIST_EXPR TokDotComma EXPRESION {puts "IZQ -> DER"; return ""}GUARDIA        : EXPRESION COMPARE {puts "IZQ -> DER"; return ""}               | TokTrue {puts "IZQ -> DER"; return ""}               | TokFalse {puts "IZQ -> DER"; return ""}               | GUARDIA GUARDIAOPER {puts "IZQ -> DER"; return ""}               | TokNot GUARDIA {puts "IZQ -> DER"; return ""}GUARDIAOPER    : TokOr GUARDIA {puts "IZQ -> DER"; return ""}               | TokAnd GUARDIA {puts "IZQ -> DER"; return ""}COMPARE        : TokLess EXPRESION {puts "IZQ -> DER"; return ""}               | TokMoreEq EXPRESION {puts "IZQ -> DER"; return ""}               | TokLessEq EXPRESION {puts "IZQ -> DER"; return ""}               | TokMore EXPRESION {puts "IZQ -> DER"; return ""}               | TokEqual EXPRESION {puts "IZQ -> DER"; return ""}               | TokNotEqual EXPRESION       {puts "IZQ -> DER"; return ""}end---- header ----require 'Lexer.rb'

---- inner ----

def initialize(l)
    @lex =l
end

def parser
    do_parse
end

def next_token
    t= @lex.yylex
    if t== nil then return [false,false] end
    if t!=nil then return [t.class.to_s.to_sym, t.value] end
end

---- footer ----
	
